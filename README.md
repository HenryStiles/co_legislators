# Colorado Legislative District Maps

An interactive web application that displays Colorado Senate and House legislative districts with detailed information about each legislator.

## Features

- **Interactive Maps**: Two separate Leaflet maps for Senate and House districts
- **District Visualization**: Districts are color-coded by party (light blue for Democrats, light red for Republicans)
- **Legislator Information**: Click any district to view detailed information including:
  - District number and party
  - Legislator name
  - Counties served
  - Committee assignments and roles
- **County Overlay**: Toggle county boundaries and names on/off
- **Responsive Design**: Works on desktop and mobile devices
- **Navigation**: Easy navigation between Senate and House maps

## Project Structure

```
co_legislators/
├── index.html              # Main web page with maps and styling
├── main.js                 # JavaScript for map functionality and data handling
├── legs.py                 # Python script to fetch legislator data from Colorado Legislature website
├── check_legislators.py    # Validation script for data integrity
├── legislators.json        # Legislator data (generated by legs.py)
├── senate_coords.json      # Senate district geographic coordinates
├── house_coords.json       # House district geographic coordinates
├── colorado_counties.geojson # County boundaries data
└── README.md              # This file
```

## Setup Instructions

### Prerequisites
- Python 3.x
- Web browser with JavaScript enabled
- Local web server (for development)

### Installation

1. **Clone the repository**:
   ```bash
   git clone https://github.com/yourusername/co_legislators.git
   cd co_legislators
   ```

2. **Fetch current legislator data**:
   ```bash
   python3 legs.py
   ```
   This will create/update `legislators.json` with current data from the Colorado Legislature website.

3. **Validate the data** (optional):
   ```bash
   python3 check_legislators.py
   ```

4. **Start a local web server**:
   ```bash
   python3 -m http.server 8000
   ```

5. **Open in browser**:
   Navigate to `http://localhost:8000`

## Usage

### Viewing Maps
- The page loads with the Senate district map at the top
- Use the "Colorado House District Map" link (top right) to jump to the House map
- Use the "Back to Senate Map" link to return to the top

### Interacting with Districts
- **Click any district** to view detailed legislator information
- **Toggle county overlay** using the "Show/Hide Counties" button in the bottom right
- **Zoom and pan** using standard map controls

### Data Validation
Run the validation script to check data integrity:
```bash
python3 check_legislators.py
```

This checks for:
- Blank or missing fields
- Non-numeric district numbers
- Non-ASCII characters in names
- Invalid chamber/party values
- Malformed URLs
- Empty committee or county lists

## Data Sources

- **Legislator Information**: [Colorado Legislature Website](https://leg.colorado.gov/legislators)
- **District Boundaries**: Geographic coordinate data for Senate and House districts
- **County Boundaries**: GeoJSON data for Colorado counties

## Technical Details

### Frontend
- **HTML5**: Semantic markup with responsive design
- **CSS3**: Custom styling for maps, labels, and navigation
- **JavaScript**: Leaflet.js for interactive maps, data handling, and popup management

### Backend
- **Python**: Data fetching and processing
- **BeautifulSoup**: Web scraping for legislator information
- **JSON**: Data storage and exchange format

### Map Features
- **Leaflet.js**: Open-source mapping library
- **OpenStreetMap**: Base map tiles
- **GeoJSON**: Geographic data format for districts and counties
- **Custom Markers**: Non-interactive labels for legislator names

## File Descriptions

### `index.html`
Main web page containing:
- Two map containers (Senate and House)
- Navigation links
- CSS styling for maps, labels, and layout
- External script includes (Leaflet.js, main.js)

### `main.js`
Core JavaScript functionality:
- Data loading from JSON files
- Map initialization and configuration
- District styling and coloring
- Popup content generation
- County overlay toggle controls
- Event handling for user interactions

### `legs.py`
Python script for data collection:
- Fetches legislator data from Colorado Legislature website
- Extracts district, chamber, name, party, and link information
- Scrapes detailed committee assignments and county information
- Outputs structured JSON data
- Includes error handling and rate limiting

### `check_legislators.py`
Data validation script:
- Validates all required fields are present
- Checks data types and formats
- Ensures geographic and demographic data integrity
- Reports any issues found in the dataset

### Data Files
- `legislators.json`: Current legislator information (generated)
- `senate_coords.json`: Senate district boundaries
- `house_coords.json`: House district boundaries  
- `colorado_counties.geojson`: County boundary data

## Browser Compatibility

- Chrome (recommended)
- Firefox
- Safari
- Edge

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## License

This project is open source. Please check individual file headers for specific licensing information.

## Support

For issues or questions:
1. Check the validation script output
2. Ensure you're running a local web server (not opening files directly)
3. Check browser console for JavaScript errors
4. Verify all data files are present and valid

## Updates

To update legislator data:
1. Run `python3 legs.py` to fetch latest data
2. Run `python3 check_legislators.py` to validate
3. Test the application locally
4. Commit and push changes 